# Сокращение Ссылок

На этой странице перечислены все API-методы, связанные с сокращением ссылок.
_____

???+ danger "POST ```/links/get```"

    === "Информация"

        **Список сокращенных пользователем ссылок**
    
        Этот API-метод ищет ссылка пользователя, который владеет этим токеном.
    
        !!! warning ""
            **Этот метод требует авторизации!**

            | Версия API | Тип токена |
            |------------|------------|
            | `v1`| `API-токен ПОЛЬЗОВАТЕЛЯ`| 
            | `v2`| `Profile` | 

    === "Параметры"
    
        | Параметр | Тип Данных | Описание |
        |--------|--------------|----------|
        | `Путь` |  Строка  |   |

    === "Тело запроса"
    
        | Обязательно? | Ключ | Тип Данных | Описание |
        |------|--------|--------------|----------|
        | Нет | `code` |  Строка  | Код ссылки, если указан, то ищется информациях о ссылках с таким кодом |

    === "Ответ"
        ??? success "Status-Code: 200 (API успешно вернуло информацию о найденых ссылках)"
            
            ```json
            [{
                "id": 155,
                "code": "shiza",
                "ownerID": "595939165917544460",
                "domain": "bcord.cc",
                "views": 3,
                "link": "https://sqdsh.top/shizue",
                "date": 1650181977858
            }, {
                "id": 193,
                "code": "shiza",
                "ownerID": "178404926869733376",
                "domain": "myservers.me",
                "views": 0,
                "link": "https://sqdsh.top/",
                "date": 1650183132145
            }]
            ```
        ??? fail "Status-Code: 400 (Что-то указано неверно (возможно ошибки валидатора Fatify, ответ будет не таким))" 
            
            ```json
            {
                "error": {
                    "code": 400,
                    "message": "Bad request"
                }
            }
            ```
        ??? fail "Status-Code: 404 (Ссылка не найдена)" 
            
            ```json
            {
                "error": {
                    "code": 404,
                    "message": "Link not found"
                }
            }
            ```

???+ danger "POST ```/links/create```"

    === "Информация"

        **Сократить ссылку**
    
        Этот API-метод сокращает ссылку с использованием всех указанных данных.
    
        !!! warning ""
            **Этот метод требует авторизации!**

            | Версия API | Тип токена |
            |------------|------------|
            | `v1`| `API-токен ПОЛЬЗОВАТЕЛЯ`| 
            | `v2`| `Profile` | 

    === "Параметры"
    
        | Параметр | Тип Данных | Описание |
        |--------|--------------|----------|
        | `Путь` |  Строка  |   |

    === "Тело запроса"
    
        | Обязательно? | Ключ | Тип Данных | Описание |
        |------|--------|--------------|----------|
        | Да | `code` |  Строка  | Код ссылки, который нужно использовать |
        | Да | `link` |  Строка  | Ссылка, которую необходимо сократить |
        | Нет | `domain` |  Number  | Домен для сокращения ссылки. По-умолчанию стоит `1` (bcord.cc), возможно значение `3` (discord.camp) |

    === "Ответ"
        ??? success "Status-Code: 200 (Ссылка успешно создана)"
            
            ```json
            {
                "ok": true
            }
            ```
        ??? fail "Status-Code: 400 (Что-то указано неверно (возможно ошибки валидатора Fatify, ответ будет не таким))" 
            
            ```json
            {
                "error": {
                    "code": 400,
                    "message": "Bad request"
                }
            }
            ```

???+ danger "POST ```/links/delete```"

    === "Информация"

        **Удалить сокращенную ссылку**
    
        Этот API-метод удаляет сокращенную ссылку.
    
        !!! warning ""
            **Этот метод требует авторизации!**

            | Версия API | Тип токена |
            |------------|------------|
            | `v1`| `API-токен ПОЛЬЗОВАТЕЛЯ`| 
            | `v2`| `Profile` | 

    === "Параметры"
    
        | Параметр | Тип Данных | Описание |
        |--------|--------------|----------|
        | `Путь` |  Строка  |   |

    === "Тело запроса"
    
        | Обязательно? | Ключ | Тип Данных | Описание |
        |------|--------|--------------|----------|
        | Да | `code` |  Строка  | Код ссылки, которую необходимо удалить |
        | Нет | `domain` |  Number  | Домен сокращенной ссылки. Возможны значения: `1` (bcord.cc), `2` (myservers.me) и `3` (discord.camp) |

    === "Ответ"
        ??? success "Status-Code: 200 (Ссылка успешно удалена)"
            
            ```json
            {
                "ok": true
            }
            ```
        ??? fail "Status-Code: 400 (Что-то указано неверно (возможно ошибки валидатора Fatify, ответ будет не таким))" 
            
            ```json
            {
                "error": {
                    "code": 400,
                    "message": "Bad request"
                }
            }
            ```
        ??? fail "Status-Code: 404 (Ссылка не найдена)" 
            
            ```json
            {
                "error": {
                    "code": 404,
                    "message": "Link not found"
                }
            }
            ```
